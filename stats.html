<!doctype html>
<html lang="en">
<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">


	<meta name="author" content="Untree.co">
	<link rel="shortcut icon" href="wallet-icon.png">

	<meta name="description" content="" />
	<meta name="keywords" content="bootstrap, bootstrap5" />
	
	<link rel="preconnect" href="https://fonts.gstatic.com">
	<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;700&family=Open+Sans:wght@400;700&display=swap" rel="stylesheet">

	<link rel="stylesheet" href="css/icons/icomoon/style.css">

	<link rel="stylesheet" href="css/bootstrap.css">
	<link rel="stylesheet" href="css/tiny-slider.css">
	<link rel="stylesheet" href="css/glightbox.min.css">
	<link rel="stylesheet" href="css/aos.css">
	<link rel="stylesheet" href="css/style.css">



	<title>CoinOnGo &mdash; Smartest Way to Choose a Hot Wallet</title>
</head>
<body>

	<div class="site-mobile-menu site-navbar-target">
		<div class="site-mobile-menu-header">
			<div class="site-mobile-menu-close">
				<span class="icofont-close js-menu-toggle"></span>
			</div>
		</div>
		<div class="site-mobile-menu-body"></div>
	</div>


	<nav class="site-nav">
		<div class="container">
			<div class="site-navigation">
				<a href="home.html" class="logo m-0 float-left">CoinonGo</a>

				<ul class="js-clone-nav d-none d-lg-inline-block text-left site-menu float-right">
					<ul class="js-clone-nav d-none d-lg-inline-block text-left site-menu float-right">
					<li><a href="home.html">Home</a></li>
					<li><a href="survey.html">Survey</a><li>
					<li><a href="gallery.html">Wallet Gallery</a></li>
					<li><a href="techEd.html">TechEd</a></li>
					<li class="active"><a href="stats.html">Crypto Stats</a></li>
					<li><a href="about.html">About</a></li>
				</ul>

				<a href="#" class="burger ml-auto float-right site-menu-toggle js-menu-toggle d-inline-block d-lg-none light" data-toggle="collapse" data-target="#main-navbar">
					<span></span>
				</a>

			</div>
		</div>
	</nav>




	<div class="section-hero section-hero-inner">
		<div class="container">
			<div class="row">
				<div class="col-lg-6 mx-auto text-center hero-intro">

					<h1>Crypto Stats</h1>
					<div class="masthead mb-5">
						<p>Stay updated on the most recent Crypto prices and data.</p>
						<p> Last updated: <span id="dateTime"></span></p>
					</div>
					<script>
						var today = new Date();
						var date = today.getFullYear()+'-'+(today.getMonth()+1)+'-'+today.getDate();
						var time = today.getHours() + ":" + today.getMinutes() + ":" + today.getSeconds();
						var dateTime = date+' '+time
						document.getElementById("dateTime").innerHTML=dateTime;
					</script>


				</div>		
			</div>		
		</div>	

		
	</div>



	<div class="stats">
		<div class="container">
			<style>
				.stats {
					width: auto;
				}
				.stats thead {
					font-size: 15px;
				}
				.stats td {
					height: 40px;
				}
				.rank {
					width: 60px;
				}
				.name {
					width: 250px;
				}
				.price {
					width: 100px;
					text-align: right;
				}
				.market_cap {
					width: 150px;
					text-align: right;
				}
				.circulating_supply {
					width: 170px;
					text-align: right;
				}
				.volume_24h {
					width: 140px;
					text-align: right;
				}
				.percentage_change_24h {
					width: 100px;
					text-align: right;
				}
				.stats th {
					text-align: center;
				}

			</style>
			<p></p>
			<table class="stats" id="stats">
				<thead>
					<tr>
						<th class="rank">Rank</abbr></th>
						<th class="name">Name</th>
						<th class="price">Price (USD)</th>
						<th class="percentage_change_24h">24h</th>
						<th class="market_cap">Market Cap</th>
						<th class="circulating_supply">Circulating Supply</th>
						<th class="volume_24h">Volume (24h)</th>
						<th class="sparkline">Last 7 Days</th>
					</tr>
				</thead>
				<tbody id="cryptocurrencies">
		
				</tbody>
			</table>
			<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js" type="text/javascript"></script>
		<script>
			// fetch the cryptocurrency data and store it inside the variable called data
			var xhReq = new XMLHttpRequest();
			xhReq.open("GET","https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=250&sparkline=true&price_change_percentage=1h%2C%2024h%2C%207d", false)
			xhReq.send(null);
			var data = JSON.parse(xhReq.responseText);

			console.log(data[0]);

			// initialization
			var cryptocurrencies;
			var sparklineData;


			function numToUSDPrice(number){
				return new Intl.NumberFormat('en-US', {style: 'currency',currency: 'USD', minimumFractionDigits: 2, maximumFractionDigits: 8}).format(number);
			}

			function numToUSD(number){
				return new Intl.NumberFormat('en-US', {style: 'currency',currency: 'USD', minimumFractionDigits: 0, maximumFractionDigits: 2}).format(number);
			}


			function thousandSeparator(number) {
				return number.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g, ",");
			}

			function getData(){
				var $list = $("#cryptocurrencies");
				$list.find(".cryptocurrency").remove();

				cryptocurrencies = [];
				for(let i=0; i<250; i++){
					cryptocurrencies.push(
						{
							image: data[i].image,
							name: data[i].name,
							symbol: data[i].symbol,
							price: data[i].current_price,
							percentage_change_24h: Math.round((data[i].market_cap_change_percentage_24h + Number.EPSILON) * 100) / 100,
							market_cap: data[i].market_cap,
							circulating_supply: Math.round(data[i].circulating_supply),
							volume_24h: data[i].total_volume,
							sparkline: data[i].sparkline_in_7d,
						}
					)
				}

				sparklineData = [];
				for(var i=0;i<cryptocurrencies.length;i++){
					sparklineData.push(data[i].sparkline_in_7d.price)
				}


				for(var i=0;i<cryptocurrencies.length;i++){
					var $item = $(
						"<tr clas'cryptocurrency'>" +
							"<th class='rank'>" + (i+1) + "</th>" +
							"<td class='name'> <img src ='" + cryptocurrencies[i].image + "' width='20'> " + cryptocurrencies[i].name.bold() + " " + cryptocurrencies[i].symbol.toUpperCase().fontcolor("grey") +"</td>" +
							"<td class='price'>" + numToUSDPrice(cryptocurrencies[i].price) + "</td>" +
							"<td class='percentage_change_24h'>" + cryptocurrencies[i].percentage_change_24h + "% </td>" +
							"<td class='market_cap'>" + numToUSD(cryptocurrencies[i].market_cap) + "</td>" +
							"<td class='circulating_supply'>" + thousandSeparator(cryptocurrencies[i].circulating_supply) + "</td>" +
							"<td class='volume_24h'>" + numToUSD(cryptocurrencies[i].volume_24h) + "</td>" +
							"<td> </td>" +

						"</tr>" 
					);
					cryptocurrencies[i].$item = $item;
					$list.append($item);
				}
			}

			getData();
		
		</script>
		</div>
	</div>


	

	<div class="site-footer">
		<div class="container">

			<div class="row">
				<div class="col-lg-4">
					<div class="widget">
						<h3>About CoinOnGo<span class="text-primary">.</span> </h3>
						<p>The smartest way to choose the hot wallet for your needs.</p>

						<ul class="list-unstyled social mt-4">
							<li><a href="#"><span class="icon-instagram"></span></a></li>
							<li><a href="#"><span class="icon-twitter"></span></a></li>
							<li><a href="#"><span class="icon-facebook"></span></a></li>
							<li><a href="#"><span class="icon-linkedin"></span></a></li>
							<li><a href="#"><span class="icon-pinterest"></span></a></li>
							<li><a href="#"><span class="icon-dribbble"></span></a></li>
						</ul>

					</div> <!-- /.widget -->
					

				</div> <!-- /.col-lg-3 -->

				<div class="col-lg-2 ml-auto">
					<div class="widget">
						<h3>Company</h3>
						<ul class="list-unstyled float-left links">
							<li><a href="techEd.html">TechEd</a></li>
							<li><a href="about.html">About us</a></li>
						</ul>
					</div> <!-- /.widget -->
				</div> <!-- /.col-lg-3 -->


				<div class="col-lg-3">
					<div class="widget">
						<h3>Get in Touch</h3>
						<address>The University of Hong Kong, Pokfulam, Hong Kong</address>
						<ul class="list-unstyled links mb-4">
							<li><a href="tel://85228592111">+852 28592111</a></li>
							<li><a href="mailto:info@mydomain.com">info@mydomain.com</a></li>
						</ul>
					</div> <!-- /.widget -->
				</div> <!-- /.col-lg-3 -->

			</div> <!-- /.row -->

	
		</div> <!-- /.container -->
	</div> <!-- /.site-footer -->

	<!-- Preloader -->
	<div id="overlayer"></div>
	<div class="loader">
		<div class="spinner-border text-primary" role="status">
			<span class="visually-hidden">Loading...</span>
		</div>
	</div>



	<script src="js/bootstrap.bundle.min.js"></script>
	<script src="js/tiny-slider.js"></script>
	<script src="js/aos.js"></script>
	<script src="js/navbar.js"></script>
	<script src="js/counter.js"></script>
	<script src="js/glightbox.min.js"></script>

	<script src="js/custom.js"></script>
</body>
</html>